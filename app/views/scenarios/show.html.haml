.container
  %h1= @scenario.name
  = render 'outputs', variables: @variables
  %h2 Inputs
  - @scenario.inputs.each do |key1, bloodyhell|
    - if key1 == 'persons'
      = render 'persons', people: bloodyhell, variables: @variables 
    - elsif key1 == 'families'
      = render 'families', families: bloodyhell, variables: @variables 
    - elsif key1 == 'titled_properties'
      = render 'properties', properties: bloodyhell, variables: @variables 
    - else
      - if bloodyhell.class == Hash || bloodyhell.class == Array
        %hr/
        %i
          %h3
          #{key1.humanize}:
        - bloodyhell.each do |key2, value2|
          .card
            .card-body
              %h4.card-title
                #{key2.humanize}:
              - if value2.class == Hash || value2.class == Array
                - value2.each do |key3, value3|
                  #{key3.humanize}: #{value3}
              - else
                = value2
      - else
        - vari = @variables.select { |variable| variable['name'] == key1 }[0]
        %hr/
        .card
          .card-body
            %h6.card-title
              = link_to vari.description, vari || key
              : #{bloodyhell}
  %hr/
  %i
    %h3 Variables used in this scenario:
  .card
    .card-body
      %ul
        - @variables.each do |v|
          %li
            = link_to v.description, v
